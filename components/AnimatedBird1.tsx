'use client';
import React from 'react';
import { useSpring, animated } from '@react-spring/web';

type AnimatedSVGProps = {
  r: number; // Radius of the path
  cx: number; // Center x-coordinate
  cy: number; // Center y-coordinate
};

const AnimatedSVG = () => {
  // Create a spring for the cx attribute
  const prop1: AnimatedSVGProps = { r: 5, cx: 112.233, cy: 145.744 };

  const prop2: AnimatedSVGProps = { r: 5, cx: 112.233, cy: 280.744 };

  // Define the spring for animating the angle
  const { angle } = useSpring({
    from: { angle: 0 },
    to: { angle: 2 * Math.PI },
    config: { duration: 2000 }, // Adjust the duration as needed
    loop: true, // Makes the animation go back and forth
  });

  // Function to calculate circle position based on angle
  const calculatePosition = (
    props: AnimatedSVGProps,
    angle: number,
    offset: number
  ) => {
    const x = props.cx + props.r * Math.cos(angle + offset);
    const y = props.cy + props.r * Math.sin(angle + offset);
    return { x, y };
  };

  // Calculate positions for the two circles with a phase offset of PI (180 degrees)
  const position1 = angle.to((a) => calculatePosition(prop1, a, 0));
  const position2 = angle.to((a) => calculatePosition(prop2, a, 0));

  return (
    <svg
      width='266'
      height='403'
      viewBox='0 0 266 403'
      fill='none'
      xmlns='http://www.w3.org/2000/svg'
    >
      <path
        d='M171.978 168.822C170.006 167.92 169.634 163.95 171.642 163.131C182.744 158.602 201.125 150.051 208.782 140.428C210.048 138.837 212.984 139.17 212.991 141.204C213.009 146.349 211.893 153.912 207.047 162.762C206.317 164.097 207.172 165.839 208.678 166.05C218.458 167.421 247.057 173.691 258.696 200.796C259.538 202.757 256.673 204.56 254.965 203.282C248.081 198.134 235.912 191.578 218.949 192.035C217.354 192.078 216.481 193.961 217.348 195.3C222.314 202.977 234.225 224.815 233.931 257.337C233.91 259.631 230.434 259.957 229.73 257.773C227.032 249.399 222.641 238.599 216.213 230.775C215.086 229.404 212.917 230.264 212.796 232.035C211.933 244.613 206.951 279.512 178.524 305.007C176.996 306.377 174.639 304.699 175.279 302.749C179.581 289.662 186.695 261.29 175.439 242.158C174.797 241.066 174.561 239.028 175.029 237.851C179.332 227.017 196.477 180.031 171.978 168.822Z'
        fill='#FF009F'
      />
      <path
        d='M167.582 167.409C167.582 167.409 190.339 165.049 188.122 194C188.122 194 184.257 280.095 53.2919 367.454C53.2919 367.454 3.38774 402.467 -31.6221 397.372C-99.9361 387.447 -75.9862 295.446 -75.9862 295.446C-106.524 274.057 -114.401 245.51 -110.609 215.327C-103.617 160.275 -57.1871 156.338 -57.1871 156.338C-78.1301 124.654 -65.809 85.8977 -65.809 85.8977C-48.1503 39.0322 -25.4528 63.4795 -25.4528 63.4795C-8.71256 85.1464 32.813 120.716 32.813 120.716C32.813 120.716 104.809 169.375 167.582 167.409Z'
        fill='#7EFFFF'
      />
      <path
        d='M20.3484 119.031C20.3484 119.031 9.00113 81.99 39.8971 30.5483C39.8971 30.5483 56.9574 2.21431 34.3363 12.3941C34.3363 12.3941 -27.2805 33.9307 -6.83116 100.469'
        fill='#7EFFFF'
      />
      <path
        d='M-9.5156 101.687C-8.92527 102.986 -7.43184 103.665 -6.01429 103.229C-4.50748 102.753 -3.64089 101.105 -4.09205 99.6393C-12.2524 73.1614 -8.14478 50.9249 8.0206 33.6523C20.1821 20.6025 35.1033 15.2812 35.1925 15.2406C35.2818 15.2001 35.371 15.1595 35.4603 15.1189C41.4404 12.4001 42.8341 13.3334 42.8341 13.3334C43.91 14.5155 41.7586 21.8655 37.3393 29.2019C6.15439 81.1927 17.016 118.351 17.5459 119.99C17.9971 121.456 19.6585 122.268 21.1653 121.791C22.6721 121.315 23.5387 119.668 23.0875 118.202C22.98 117.728 12.5906 81.6092 42.3024 32.0639C44.6814 28.0575 52.0997 14.7616 47.2133 9.46227C43.4028 5.34509 35.8659 8.66711 33.1882 9.88446C31.5029 10.4418 16.5607 16.1904 3.8531 29.6974C-8.39762 42.7878 -20.6584 65.8062 -9.7229 101.468C-9.59429 101.514 -9.55495 101.601 -9.5156 101.687Z'
        fill='black'
      />
      <path
        d='M104.746 327.841C104.726 326.856 105.269 325.86 106.242 325.278C106.383 325.275 116.543 319.723 121.051 313.019C121.732 311.879 123.27 311.426 124.407 311.966C125.4 312.368 126.126 313.479 126.146 314.464C126.149 314.604 126.154 314.886 126.017 315.029C126.017 315.029 124.732 321.106 124.877 328.279C124.996 334.186 126.142 342.184 130.737 346.735C131.311 347.286 131.606 347.983 131.62 348.687C131.632 349.249 131.499 349.674 131.229 350.242C130.549 351.382 129.292 351.829 128.017 351.433C127.168 351.169 108.192 345.219 104.752 328.122C104.755 328.263 104.749 327.981 104.746 327.841Z'
        fill='black'
      />
      <path
        d='M128.96 349.022C128.96 349.022 110.697 343.48 107.566 327.784C107.566 327.784 118.423 321.937 123.342 314.661C123.342 314.661 122.063 321.019 122.217 328.614C122.358 335.647 123.792 343.92 128.96 349.022ZM134.586 348.909L134.583 348.768C134.558 347.502 134.116 346.526 133.393 345.556C133.249 345.418 133.103 345.139 132.96 345.001C128.942 341.143 127.951 333.846 127.843 328.501C127.704 321.609 128.856 315.957 128.853 315.816C128.985 315.392 128.977 314.97 128.968 314.548C128.923 312.297 127.617 310.354 125.488 309.412C123.074 308.335 120.137 309.238 118.636 311.52C115.218 316.514 107.579 321.452 104.794 322.915C102.986 323.936 101.759 325.931 101.802 328.041C101.808 328.322 101.816 328.744 101.963 329.023C105.558 346.82 124.266 353.479 126.958 354.409C127.526 354.679 128.232 354.806 128.936 354.792C132.168 354.586 134.649 352.003 134.586 348.909Z'
        fill='black'
      />
      <path
        d='M16.7411 270.406C17.2255 294.425 24.1087 313.766 32.1152 313.605C40.1217 313.443 46.2196 293.841 45.7352 269.821C45.2508 245.802 38.3676 226.461 30.3611 226.622C22.3546 226.784 16.2567 246.386 16.7411 270.406Z'
        fill='#FF009F'
      />
      <path
        d='M31.2398 283.311C31.8162 311.897 55.4575 334.604 84.044 334.028C112.63 333.451 135.337 309.81 134.761 281.223C134.184 252.637 110.543 229.93 81.9564 230.507C53.3699 231.083 30.6633 254.724 31.2398 283.311Z'
        fill='white'
      />
      <path
        d='M27.0224 283.396C26.4012 252.593 51.0704 226.908 81.8735 226.287C112.677 225.666 138.361 250.335 138.982 281.138C139.604 311.941 114.934 337.626 84.1313 338.247C53.3282 338.868 27.6436 314.199 27.0224 283.396ZM130.543 281.308C130.016 255.147 108.205 234.199 82.0437 234.726C55.8822 235.254 34.934 257.064 35.4616 283.226C35.9891 309.387 57.7996 330.336 83.9611 329.808C110.123 329.28 131.071 307.47 130.543 281.308Z'
        fill='black'
      />
      <path
        d='M68.0229 147.347C68.3987 165.982 83.8101 180.784 102.445 180.408C121.08 180.033 135.882 164.621 135.507 145.986C135.131 127.351 119.719 112.549 101.084 112.925C82.4492 113.3 67.6471 128.712 68.0229 147.347Z'
        fill='white'
      />
      <path
        d='M65.271 147.402C64.8661 127.322 80.9476 110.579 101.028 110.174C121.108 109.769 137.851 125.85 138.256 145.931C138.661 166.011 122.58 182.754 102.5 183.159C82.4194 183.564 65.676 167.482 65.271 147.402ZM132.755 146.042C132.411 128.987 118.193 115.331 101.139 115.675C84.0843 116.019 70.4285 130.237 70.7724 147.291C71.1163 164.346 85.3343 178.002 102.389 177.658C119.443 177.314 133.099 163.096 132.755 146.042Z'
        fill='black'
      />
      <animated.circle
        // cx='92.233'
        // cy='175.744'
        cx={position1.to((p) => p.x)}
        cy={position1.to((p) => p.y)}
        r='11.1946'
        // transform={position1.to((x, y) => `rotate(-90.4234 ${x} ${y})`)}
        fill='black'
      />
      <animated.circle
        // cx='222.233'
        // cy='180.744'
        cx={position2.to((p) => p.x)}
        cy={position2.to((p) => p.y)}
        r='11.1946'
        // transform={position2.to((x, y) => `rotate(-90.4234 ${x} ${y})`)}
        fill='black'
      />
      <path
        d='M-50.8954 189.86C-51.6778 164.15 -12.0544 130.42 9.08897 128.672C9.67394 128.623 10.2252 128.861 10.6147 129.3C17.8203 137.427 31.8381 158.052 34.8829 181.194C37.9555 204.547 18.2474 237.421 7.41061 251.79C7.00626 252.326 6.37947 252.615 5.71424 252.523C-13.2622 249.903 -50.1933 212.935 -50.8954 189.86Z'
        fill='#FFC7F6'
        stroke='black'
        strokeWidth='5'
        strokeLinecap='round'
      />
      <path
        d='M-33.7764 186.198C-34.1228 169.024 -5.29662 138.298 9.83329 132.429C10.1934 132.289 10.5788 132.274 10.9523 132.372C36.389 139.06 42.8532 183.293 42.9262 205.387C42.9277 205.835 42.7755 206.255 42.4978 206.607L8.48681 249.666C7.84058 250.485 6.6789 250.677 5.844 250.052C-8.0276 239.677 -33.3603 206.834 -33.7764 186.198Z'
        fill='white'
        stroke='black'
        strokeWidth='5'
        strokeLinecap='round'
      />
      <path
        d='M56.802 221.165C101.424 185.678 49.8397 146.321 15.663 129.526C14.2512 128.832 12.6595 129.988 12.8763 131.546C15.1307 147.745 19.5368 171.785 19.853 187.464C20.1917 204.262 10.174 236.658 5.50578 246.185C5.45647 246.286 5.4177 246.385 5.38741 246.493C3.48295 253.277 11.1025 257.509 56.802 221.165Z'
        fill='#FFC7F6'
        stroke='black'
        strokeWidth='5'
        strokeLinecap='round'
      />
    </svg>
  );
};

export default AnimatedSVG;
